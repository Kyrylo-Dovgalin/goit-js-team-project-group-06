{"mappings":"gfAAAA,EAAA,SCAA,IAAAC,EAAAD,EAAA,SACME,EAAgBC,SAASC,cAC7B,0CAEIC,EAAcF,SAASC,cAC3B,wCA6BF,SAASE,EAAOC,GACd,IAAQC,EAAiDD,EAAjDC,YAAaC,EAAoCF,EAApCE,MAAOC,EAA6BH,EAA7BG,GAAIC,EAAyBJ,EAAzBI,aAAcC,EAAWL,EAAXK,OAExCC,EAAS,gCAG6BC,OAHGJ,EAAG,oGAIrCI,OAD+BN,EAAY,oBAMnBM,OALxBL,EAAM,6HAMkBK,OADAL,EAAM,gDAI3BK,OAHqBF,EAAOG,QAAO,SAACC,EAAKC,GAEnD,OADAD,GAAO,GAAWF,OAARG,EAAGC,KAAK,K,GAEjB,IAAI,OAAkBJ,OAAbH,EAAa,mBAG7B,OAAOR,SACJC,cAAc,iBACde,mBAAmB,YAAaN,E,CA/CrCX,EAAckB,iBAAiB,SAG/B,WACEjB,SAASC,cAAc,iBAAiBiB,UAAY,GACzBC,KAAKC,MAAMC,aAAaC,QAAQ,iBAElBC,KAAI,SAAAhB,GAC3C,OAAO,EAAAT,EAAA0B,WAAUjB,GAAIkB,MAAK,SAAArB,GACxBD,EAAOC,E,UARbF,EAAYe,iBAAiB,SAa7B,WACEjB,SAASC,cAAc,iBAAiBiB,UAAY,GACpD,IAAMQ,EAAmBP,KAAKC,MAAMC,aAAaC,QAAQ,eACzDK,QAAQC,IAAI,wCAAwCF,GAE9BA,EAAiBH,KAAI,SAAAhB,GACzC,OAAO,EAAAT,EAAA0B,WAAUjB,GAAIkB,MAAK,SAAArB,GACxBD,EAAOC,E","sources":["src/library.js","src/js/library/library-header.js"],"sourcesContent":["import './js/signIn/sing-in';\nimport './js/library/library-header';\nimport './js/library/library-movies';\nimport './js/loader';\nimport './js/footer';\nimport './js/modalMoviesCard';\nimport './js/modal-group';\nimport './js/trailer';\n","import { fetchById } from '../../api-services/movies-api-service';\nconst addWatchedBtn = document.querySelector(\n  '.library__btns-btn[data-add=\"watched\"]'\n);\nconst addQueueBtn = document.querySelector(\n  '.library__btns-btn[data-add=\"queue\"]'\n);\n\naddWatchedBtn.addEventListener('click', onAddWatchedBtn);\naddQueueBtn.addEventListener('click', onAddQueueBtn);\n\nfunction onAddWatchedBtn() {\n  document.querySelector('.library-list').innerHTML = '';\n  const parsedWathcedFilms = JSON.parse(localStorage.getItem('WatchedFilms'));\n\n  const arrLocalFilms = parsedWathcedFilms.map(id => {\n    return fetchById(id).then(r => {\n      markup(r);\n    });\n  });\n}\n\nfunction onAddQueueBtn() {\n  document.querySelector('.library-list').innerHTML = '';\n  const parsedQueueFilms = JSON.parse(localStorage.getItem('QueueFilms'));\n  console.log('ðŸš€ ~ onAddQueueBtn ~ parsedQueueFilms', parsedQueueFilms);\n\n  const arrLocalFilms = parsedQueueFilms.map(id => {\n    return fetchById(id).then(r => {\n      markup(r);\n    });\n  });\n}\n\nfunction markup(r) {\n  const { poster_path, title, id, release_date, genres } = r;\n\n  const markup = `<li class=\"movies__card\" id=\"${id}\">\n      <img\n        class=\"movies__card-photo\"\n        src=\"https://image.tmdb.org/t/p/w500${poster_path}\"\n        alt=\"${title}\"\n        loading=\"lazy\"\n        width=\"395px\"\n        height=\"354px\"\n      />\n      <h2 class=\"movies__card-title\">${title}</h2>\n      <p class=\"movies__card-genres\">${genres.reduce((acc, el) => {\n        acc += `${el.name}, `;\n        return acc;\n      }, '')} | ${release_date}</p>\n    </li>`;\n\n  return document\n    .querySelector('.library-list')\n    .insertAdjacentHTML('beforeend', markup);\n}\n"],"names":["parcelRequire","$bt2La","$fedc438a4337639e$var$addWatchedBtn","document","querySelector","$fedc438a4337639e$var$addQueueBtn","$fedc438a4337639e$var$markup","r","poster_path","title","id","release_date","genres","markup1","concat","reduce","acc","el","name","insertAdjacentHTML","addEventListener","innerHTML","JSON","parse","localStorage","getItem","map","fetchById","then","parsedQueueFilms","console","log"],"version":3,"file":"library.3be00725.js.map"}