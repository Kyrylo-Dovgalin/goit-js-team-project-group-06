{"mappings":"qhBAAAA,EAAA,SCAA,IAAAC,EAAAD,EAAA,S,0BAEA,MAAME,EAAgBC,SAASC,cAC7B,0CAEIC,EAAcF,SAASC,cAC3B,wCAgDF,SAASE,EAAOC,GACd,MAAMC,YAAEA,EAAWC,MAAEA,EAAKC,GAAEA,EAAEC,aAAEA,EAAYC,OAAEA,GAAWL,EAEnDM,EAAS,gCAAgCH,oGAGHF,oBAC/BC,6HAKwBA,gDACAG,EAAOE,QAAO,CAACC,EAAKC,IACnDD,GAAO,GAAGC,EAAGC,UAEZ,UAAS,EAAAC,EAAAC,kBAAiBR,oBAGjC,OAAOR,SACJC,cAAc,iBACdgB,mBAAmB,YAAaP,E,CAhErCX,EAAcmB,iBAAiB,SAG/B,WACEhB,EAAYiB,UAAUC,OAAO,6BAC7BrB,EAAcoB,UAAUE,IAAI,6BAC5BrB,SAASC,cAAc,iBAAiBqB,UAAY,GACpD,MAAMC,EAAqBC,KAAKC,MAAMC,aAAaC,QAAQ,iBAE3D,GAA2B,OAAvBJ,EAIF,YAHAK,EAAAC,GAASC,OAAOC,QAAQ,4BAAiD,CACnDC,SAAV,kBAIUT,EAAmBU,KAAI1B,IACpC,EAAAT,EAAAoC,WAAU3B,GAAI4B,MAAK/B,IACxBD,EAAOC,EAAE,K,IAhBjBF,EAAYgB,iBAAiB,SAsB7B,WACEnB,EAAcoB,UAAUC,OAAO,6BAC/BlB,EAAYiB,UAAUE,IAAI,6BAC1BrB,SAASC,cAAc,iBAAiBqB,UAAY,GACpD,MAAMc,EAAmBZ,KAAKC,MAAMC,aAAaC,QAAQ,eAEzD,GAAyB,OAArBS,EAIF,YAHAR,EAAAC,GAASC,OAAOC,QAAQ,4BAA6B,CACnDC,SAAU,kBAIUI,EAAiBH,KAAI1B,IAClC,EAAAT,EAAAoC,WAAU3B,GAAI4B,MAAK/B,IACxBD,EAAOC,EAAE,K","sources":["src/library.js","src/js/library/library-header.js"],"sourcesContent":["import './js/signIn/sing-in';\nimport './js/library/library-header';\nimport './js/library/library-movies';\nimport './js/loader';\nimport './js/footer';\nimport './js/modalMoviesCard';\nimport './js/modal-group';\nimport './js/trailer';\n","import { fetchById } from '../../api-services/movies-api-service';\nimport { dotaReleaseCheck } from '../home/home-movies';\nconst addWatchedBtn = document.querySelector(\n  '.library__btns-btn[data-add=\"watched\"]'\n);\nconst addQueueBtn = document.querySelector(\n  '.library__btns-btn[data-add=\"queue\"]'\n);\n\nimport Notiflix from 'notiflix';\n\naddWatchedBtn.addEventListener('click', onAddWatchedBtn);\naddQueueBtn.addEventListener('click', onAddQueueBtn);\n\nfunction onAddWatchedBtn() {\n  addQueueBtn.classList.remove('library__btns-btn--active');\n  addWatchedBtn.classList.add('library__btns-btn--active');\n  document.querySelector('.library-list').innerHTML = '';\n  const parsedWathcedFilms = JSON.parse(localStorage.getItem('WatchedFilms'));\n\n  if (parsedWathcedFilms === null) {\n    Notiflix.Notify.failure('Ты еще ничего не добавил!', {\n      position: 'center-center',\n    });\n    return;\n  } else {\n    const arrLocalFilms = parsedWathcedFilms.map(id => {\n      return fetchById(id).then(r => {\n        markup(r);\n      });\n    });\n  }\n}\n\nfunction onAddQueueBtn() {\n  addWatchedBtn.classList.remove('library__btns-btn--active');\n  addQueueBtn.classList.add('library__btns-btn--active');\n  document.querySelector('.library-list').innerHTML = '';\n  const parsedQueueFilms = JSON.parse(localStorage.getItem('QueueFilms'));\n\n  if (parsedQueueFilms === null) {\n    Notiflix.Notify.failure('Ты еще ничего не добавил!', {\n      position: 'center-center',\n    });\n    return;\n  } else {\n    const arrLocalFilms = parsedQueueFilms.map(id => {\n      return fetchById(id).then(r => {\n        markup(r);\n      });\n    });\n  }\n}\n\nfunction markup(r) {\n  const { poster_path, title, id, release_date, genres } = r;\n\n  const markup = `<li class=\"movies__card\" id=\"${id}\">\n      <img\n        class=\"movies__card-photo\"\n        src=\"https://image.tmdb.org/t/p/w500${poster_path}\"\n        alt=\"${title}\"\n        loading=\"lazy\"\n        width=\"395px\"\n        height=\"354px\"\n      />\n      <h2 class=\"movies__card-title\">${title}</h2>\n      <p class=\"movies__card-genres\">${genres.reduce((acc, el) => {\n        acc += `${el.name}, `;\n        return acc;\n      }, '')} | ${dotaReleaseCheck(release_date)}</p>\n    </li>`;\n\n  return document\n    .querySelector('.library-list')\n    .insertAdjacentHTML('beforeend', markup);\n}\n"],"names":["parcelRequire","$1o7ne","$4315b9261c22089d$var$addWatchedBtn","document","querySelector","$4315b9261c22089d$var$addQueueBtn","$4315b9261c22089d$var$markup","r","poster_path","title","id","release_date","genres","markup1","reduce","acc","el","name","$39QIh","dotaReleaseCheck","insertAdjacentHTML","addEventListener","classList","remove","add","innerHTML","parsedWathcedFilms","JSON","parse","localStorage","getItem","$parcel$interopDefault","$eWCmQ","Notify","failure","position","map","fetchById","then","parsedQueueFilms"],"version":3,"file":"library.b2f41308.js.map"}